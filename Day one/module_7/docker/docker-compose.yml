services:
  sdk-relay-lab:
    build:
      context: ..
      dockerfile: docker/Dockerfile
    container_name: walrus-sdk-relay-lab
    volumes:
      # Mount source code for live editing
      - ../hands-on-source-code/src:/app/src:ro
      - ../hands-on-source-code/package.json:/app/package.json:ro
      # Optional: Mount results directory if you want to persist outputs
      - ./results:/app/results
    working_dir: /app
    stdin_open: true
    tty: true
    environment:
      - NODE_ENV=production
      # Passphrase for keypair derivation - students must set this!
      - PASSPHRASE=${PASSPHRASE:-}

